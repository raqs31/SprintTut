!function($){"use strict";function e(e){var t=[{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}];return $.each(t,function(){e=e.replace(this.re,this.ch)}),e}function t(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i="(?:"+Object.keys(t).join("|")+")",n=new RegExp(i),s=new RegExp(i,"g"),o=null==e?"":""+e;return n.test(o)?o.replace(s,function(e){return t[e]}):o}function i(e,t){var i=arguments,n=e,s=t;[].shift.apply(i);var a,l=this.each(function(){var e=$(this);if(e.is("select")){var t=e.data("selectpicker"),l="object"==typeof n&&n;if(t){if(l)for(var r in l)l.hasOwnProperty(r)&&(t.options[r]=l[r])}else{var d=$.extend({},o.DEFAULTS,$.fn.selectpicker.defaults||{},e.data(),l);d.template=$.extend({},o.DEFAULTS.template,$.fn.selectpicker.defaults?$.fn.selectpicker.defaults.template:{},e.data().template,l.template),e.data("selectpicker",t=new o(this,d,s))}"string"==typeof n&&(a=t[n]instanceof Function?t[n].apply(t,i):t.options[n])}});return"undefined"!=typeof a?a:l}String.prototype.includes||!function(){var e={}.toString,t=function(){try{var e={},t=Object.defineProperty,i=t(e,e,e)&&t}catch(e){}return i}(),i="".indexOf,n=function(t){if(null==this)throw new TypeError;var n=String(this);if(t&&"[object RegExp]"==e.call(t))throw new TypeError;var s=n.length,o=String(t),a=o.length,l=arguments.length>1?arguments[1]:void 0,r=l?Number(l):0;r!=r&&(r=0);var d=Math.min(Math.max(r,0),s);return!(a+d>s)&&i.call(n,o,r)!=-1};t?t(String.prototype,"includes",{value:n,configurable:!0,writable:!0}):String.prototype.includes=n}(),String.prototype.startsWith||!function(){var e=function(){try{var e={},t=Object.defineProperty,i=t(e,e,e)&&t}catch(e){}return i}(),t={}.toString,i=function(e){if(null==this)throw new TypeError;var i=String(this);if(e&&"[object RegExp]"==t.call(e))throw new TypeError;var n=i.length,s=String(e),o=s.length,a=arguments.length>1?arguments[1]:void 0,l=a?Number(a):0;l!=l&&(l=0);var r=Math.min(Math.max(l,0),n);if(o+r>n)return!1;for(var d=-1;++d<o;)if(i.charCodeAt(r+d)!=s.charCodeAt(d))return!1;return!0};e?e(String.prototype,"startsWith",{value:i,configurable:!0,writable:!0}):String.prototype.startsWith=i}(),Object.keys||(Object.keys=function(e,t,i){i=[];for(t in e)i.hasOwnProperty.call(e,t)&&i.push(t);return i});var n={useDefault:!1,_set:$.valHooks.select.set};$.valHooks.select.set=function(e,t){return t&&!n.useDefault&&$(e).data("selected",!0),n._set.apply(this,arguments)};var s=null;$.fn.triggerNative=function(e){var t=this[0],i;t.dispatchEvent?("function"==typeof Event?i=new Event(e,{bubbles:!0}):(i=document.createEvent("Event"),i.initEvent(e,!0,!1)),t.dispatchEvent(i)):t.fireEvent?(i=document.createEventObject(),i.eventType=e,t.fireEvent("on"+e,i)):this.trigger(e)},$.expr.pseudos.icontains=function(e,t,i){var n=$(e),s=(n.data("tokens")||n.text()).toString().toUpperCase();return s.includes(i[3].toUpperCase())},$.expr.pseudos.ibegins=function(e,t,i){var n=$(e),s=(n.data("tokens")||n.text()).toString().toUpperCase();return s.startsWith(i[3].toUpperCase())},$.expr.pseudos.aicontains=function(e,t,i){var n=$(e),s=(n.data("tokens")||n.data("normalizedText")||n.text()).toString().toUpperCase();return s.includes(i[3].toUpperCase())},$.expr.pseudos.aibegins=function(e,t,i){var n=$(e),s=(n.data("tokens")||n.data("normalizedText")||n.text()).toString().toUpperCase();return s.startsWith(i[3].toUpperCase())};var o=function(e,t,i){n.useDefault||($.valHooks.select.set=n._set,n.useDefault=!0),i&&(i.stopPropagation(),i.preventDefault()),this.$element=$(e),this.$newElement=null,this.$button=null,this.$menu=null,this.$lis=null,this.options=t,null===this.options.title&&(this.options.title=this.$element.attr("title")),this.val=o.prototype.val,this.render=o.prototype.render,this.refresh=o.prototype.refresh,this.setStyle=o.prototype.setStyle,this.selectAll=o.prototype.selectAll,this.deselectAll=o.prototype.deselectAll,this.destroy=o.prototype.destroy,this.remove=o.prototype.remove,this.show=o.prototype.show,this.hide=o.prototype.hide,this.init()};o.VERSION="1.11.2",o.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(e,t){return 1==e?"{0} item selected":"{0} items selected"},maxOptionsText:function(e,t){return[1==e?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==t?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:"glyphicon",tickIcon:"glyphicon-ok",showTick:!1,template:{caret:'<i class="fa fa-chevron-down" aria-hidden="true"></i>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1},o.prototype={constructor:o,init:function(){var e=this,t=this.$element.attr("id");this.$element.addClass("bs-select-hidden"),this.liObj={},this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$newElement=this.createView(),this.$element.after(this.$newElement).appendTo(this.$newElement),this.$button=this.$newElement.children("button"),this.$menu=this.$newElement.children(".dropdown-menu"),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),this.$element.removeClass("bs-select-hidden"),this.options.dropdownAlignRight===!0&&this.$menu.addClass("dropdown-menu-right"),"undefined"!=typeof t&&(this.$button.attr("data-id",t),$('label[for="'+t+'"]').click(function(t){t.preventDefault(),e.$button.focus()})),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.render(),this.setStyle(),this.setWidth(),this.options.container&&this.selectPosition(),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on({"hide.bs.dropdown":function(t){e.$menuInner.attr("aria-expanded",!1),e.$element.trigger("hide.bs.select",t)},"hidden.bs.dropdown":function(t){e.$element.trigger("hidden.bs.select",t)},"show.bs.dropdown":function(t){e.$menuInner.attr("aria-expanded",!0),e.$element.trigger("show.bs.select",t)},"shown.bs.dropdown":function(t){e.$element.trigger("shown.bs.select",t)}}),e.$element[0].hasAttribute("required")&&this.$element.on("invalid",function(){e.$button.addClass("bs-invalid").focus(),e.$element.on({"focus.bs.select":function(){e.$button.focus(),e.$element.off("focus.bs.select")},"shown.bs.select":function(){e.$element.val(e.$element.val()).off("shown.bs.select")},"rendered.bs.select":function(){this.validity.valid&&e.$button.removeClass("bs-invalid"),e.$element.off("rendered.bs.select")}})}),setTimeout(function(){e.$element.trigger("loaded.bs.select")})},createDropdown:function(){var e=this.multiple||this.options.showTick?" show-tick":"",i=this.$element.parent().hasClass("input-group")?" input-group-btn":"",n=this.autofocus?" autofocus":"",s=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"",o=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+t(this.options.liveSearchPlaceholder)+'"')+' role="textbox" aria-label="Search"></div>':"",a=this.multiple&&this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn btn-default">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn btn-default">'+this.options.deselectAllText+"</button></div></div>":"",l=this.multiple&&this.options.doneButton?'<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm btn-default">'+this.options.doneButtonText+"</button></div></div>":"",r='<div class="btn-group bootstrap-select'+e+i+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle" data-toggle="dropdown"'+n+' role="button"><span class="filter-option pull-left"></span>&nbsp;<span class="bs-caret">'+this.options.template.caret+'</span></button><div class="dropdown-menu open" role="combobox">'+s+o+a+'<ul class="dropdown-menu inner" role="listbox" aria-expanded="false"></ul>'+l+"</div></div>";return $(r)},createView:function(){var e=this.createDropdown(),t=this.createLi();return e.find("ul")[0].innerHTML=t,e},reloadLi:function(){this.destroyLi();var e=this.createLi();this.$menuInner[0].innerHTML=e},destroyLi:function(){this.$menu.find("li").remove()},createLi:function(){var i=this,n=[],s=0,o=document.createElement("option"),a=-1,l=function(e,t,i,n){return"<li"+("undefined"!=typeof i&""!==i?' class="'+i+'"':"")+("undefined"!=typeof t&null!==t?' data-original-index="'+t+'"':"")+("undefined"!=typeof n&null!==n?'data-optgroup="'+n+'"':"")+">"+e+"</li>"},r=function(n,s,o,a){return'<a tabindex="0"'+("undefined"!=typeof s?' class="'+s+'"':"")+("undefined"!=typeof o?' style="'+o+'"':"")+(i.options.liveSearchNormalize?' data-normalized-text="'+e(t(n))+'"':"")+("undefined"!=typeof a||null!==a?' data-tokens="'+a+'"':"")+' role="option">'+n+'<span class="'+i.options.iconBase+" "+i.options.tickIcon+' check-mark"></span></a>'};if(this.options.title&&!this.multiple&&(a--,!this.$element.find(".bs-title-option").length)){var d=this.$element[0];o.className="bs-title-option",o.appendChild(document.createTextNode(this.options.title)),o.value="",d.insertBefore(o,d.firstChild);var h=$(d.options[d.selectedIndex]);void 0===h.attr("selected")&&void 0===this.$element.data("selected")&&(o.selected=!0)}return this.$element.find("option").each(function(e){var t=$(this);if(a++,!t.hasClass("bs-title-option")){var o=this.className||"",d=this.style.cssText,h=t.data("content")?t.data("content"):t.html(),c=t.data("tokens")?t.data("tokens"):null,p="undefined"!=typeof t.data("subtext")?'<small class="text-muted">'+t.data("subtext")+"</small>":"",u="undefined"!=typeof t.data("icon")?'<span class="'+i.options.iconBase+" "+t.data("icon")+'"></span> ':"",f=t.parent(),m="OPTGROUP"===f[0].tagName,g=m&&f[0].disabled,b=this.disabled||g;if(""!==u&&b&&(u="<span>"+u+"</span>"),i.options.hideDisabled&&(b&&!m||g))return void a--;if(t.data("content")||(h=u+'<span class="text">'+h+p+"</span>"),m&&t.data("divider")!==!0){if(i.options.hideDisabled&&b){if(void 0===f.data("allOptionsDisabled")){var v=f.children();f.data("allOptionsDisabled",v.filter(":disabled").length===v.length)}if(f.data("allOptionsDisabled"))return void a--}var x=" "+f[0].className||"";if(0===t.index()){s+=1;var w=f[0].label,y="undefined"!=typeof f.data("subtext")?'<small class="text-muted">'+f.data("subtext")+"</small>":"",C=f.data("icon")?'<span class="'+i.options.iconBase+" "+f.data("icon")+'"></span> ':"";w=C+'<span class="text">'+w+y+"</span>",0!==e&&n.length>0&&(a++,n.push(l("",null,"divider",s+"div"))),a++,n.push(l(w,null,"dropdown-header"+x,s))}if(i.options.hideDisabled&&b)return void a--;n.push(l(r(h,"opt "+o+x,d,c),e,"",s))}else if(t.data("divider")===!0)n.push(l("",e,"divider"));else if(t.data("hidden")===!0)n.push(l(r(h,o,d,c),e,"hidden is-hidden"));else{var S=this.previousElementSibling&&"OPTGROUP"===this.previousElementSibling.tagName;if(!S&&i.options.hideDisabled)for(var k=$(this).prevAll(),E=0;E<k.length;E++)if("OPTGROUP"===k[E].tagName){for(var T=0,I=0;I<E;I++){var z=k[I];(z.disabled||$(z).data("hidden")===!0)&&T++}T===E&&(S=!0);break}S&&(a++,n.push(l("",null,"divider",s+"div"))),n.push(l(r(h,o,d,c),e))}i.liObj[e]=a}}),this.multiple||0!==this.$element.find("option:selected").length||this.options.title||this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected"),n.join("")},findLis:function(){return null==this.$lis&&(this.$lis=this.$menu.find("li")),this.$lis},render:function(e){var t=this,i;e!==!1&&this.$element.find("option").each(function(e){var i=t.findLis().eq(t.liObj[e]);t.setDisabled(e,this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled,i),t.setSelected(e,this.selected,i)}),this.togglePlaceholder(),this.tabIndex();var n=this.$element.find("option").map(function(){if(this.selected){if(t.options.hideDisabled&&(this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled))return;var e=$(this),i=e.data("icon")&&t.options.showIcon?'<i class="'+t.options.iconBase+" "+e.data("icon")+'"></i> ':"",n;return n=t.options.showSubtext&&e.data("subtext")&&!t.multiple?' <small class="text-muted">'+e.data("subtext")+"</small>":"","undefined"!=typeof e.attr("title")?e.attr("title"):e.data("content")&&t.options.showContent?e.data("content"):i+e.html()+n}}).toArray(),s=this.multiple?n.join(this.options.multipleSeparator):n[0];if(this.multiple&&this.options.selectedTextFormat.indexOf("count")>-1){var o=this.options.selectedTextFormat.split(">");if(o.length>1&&n.length>o[1]||1==o.length&&n.length>=2){i=this.options.hideDisabled?", [disabled]":"";var a=this.$element.find("option").not('[data-divider="true"], [data-hidden="true"]'+i).length,l="function"==typeof this.options.countSelectedText?this.options.countSelectedText(n.length,a):this.options.countSelectedText;s=l.replace("{0}",n.length.toString()).replace("{1}",a.toString())}}void 0==this.options.title&&(this.options.title=this.$element.attr("title")),"static"==this.options.selectedTextFormat&&(s=this.options.title),s||(s="undefined"!=typeof this.options.title?this.options.title:this.options.noneSelectedText),this.$button.attr("title",$.trim(s.replace(/<[^>]*>?/g,""))),this.$button.children(".filter-option").html(s),this.$element.trigger("rendered.bs.select")},setStyle:function(e,t){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,""));var i=e?e:this.options.style;"add"==t?this.$button.addClass(i):"remove"==t?this.$button.removeClass(i):(this.$button.removeClass(this.options.style),this.$button.addClass(i))},liHeight:function(e){if(e||this.options.size!==!1&&!this.sizeInfo){var t=document.createElement("div"),i=document.createElement("div"),n=document.createElement("ul"),s=document.createElement("li"),o=document.createElement("li"),a=document.createElement("a"),l=document.createElement("span"),r=this.options.header&&this.$menu.find(".popover-title").length>0?this.$menu.find(".popover-title")[0].cloneNode(!0):null,d=this.options.liveSearch?document.createElement("div"):null,h=this.options.actionsBox&&this.multiple&&this.$menu.find(".bs-actionsbox").length>0?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,c=this.options.doneButton&&this.multiple&&this.$menu.find(".bs-donebutton").length>0?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null;if(l.className="text",t.className=this.$menu[0].parentNode.className+" open",i.className="dropdown-menu open",n.className="dropdown-menu inner",s.className="divider",l.appendChild(document.createTextNode("Inner text")),a.appendChild(l),o.appendChild(a),n.appendChild(o),n.appendChild(s),r&&i.appendChild(r),d){var p=document.createElement("span");d.className="bs-searchbox",p.className="form-control",d.appendChild(p),i.appendChild(d)}h&&i.appendChild(h),i.appendChild(n),c&&i.appendChild(c),t.appendChild(i),document.body.appendChild(t);var u=a.offsetHeight,f=r?r.offsetHeight:0,m=d?d.offsetHeight:0,g=h?h.offsetHeight:0,b=c?c.offsetHeight:0,v=$(s).outerHeight(!0),x="function"==typeof getComputedStyle&&getComputedStyle(i),w=x?null:$(i),y={vert:parseInt(x?x.paddingTop:w.css("paddingTop"))+parseInt(x?x.paddingBottom:w.css("paddingBottom"))+parseInt(x?x.borderTopWidth:w.css("borderTopWidth"))+parseInt(x?x.borderBottomWidth:w.css("borderBottomWidth")),horiz:parseInt(x?x.paddingLeft:w.css("paddingLeft"))+parseInt(x?x.paddingRight:w.css("paddingRight"))+parseInt(x?x.borderLeftWidth:w.css("borderLeftWidth"))+parseInt(x?x.borderRightWidth:w.css("borderRightWidth"))},C={vert:y.vert+parseInt(x?x.marginTop:w.css("marginTop"))+parseInt(x?x.marginBottom:w.css("marginBottom"))+2,horiz:y.horiz+parseInt(x?x.marginLeft:w.css("marginLeft"))+parseInt(x?x.marginRight:w.css("marginRight"))+2};document.body.removeChild(t),this.sizeInfo={liHeight:u,headerHeight:f,searchHeight:m,actionsHeight:g,doneButtonHeight:b,dividerHeight:v,menuPadding:y,menuExtras:C}}},setSize:function(){if(this.findLis(),this.liHeight(),this.options.header&&this.$menu.css("padding-top",0),this.options.size!==!1){var e=this,t=this.$menu,i=this.$menuInner,n=$(window),s=this.$newElement[0].offsetHeight,o=this.$newElement[0].offsetWidth,a=this.sizeInfo.liHeight,l=this.sizeInfo.headerHeight,r=this.sizeInfo.searchHeight,d=this.sizeInfo.actionsHeight,h=this.sizeInfo.doneButtonHeight,c=this.sizeInfo.dividerHeight,p=this.sizeInfo.menuPadding,u=this.sizeInfo.menuExtras,f=this.options.hideDisabled?".disabled":"",m,g,b,v,x,w,y,C,S=function(){var t=e.$newElement.offset(),i=$(e.options.container),a;e.options.container&&!i.is("body")?(a=i.offset(),a.top+=parseInt(i.css("borderTopWidth")),a.left+=parseInt(i.css("borderLeftWidth"))):a={top:0,left:0},x=t.top-a.top-n.scrollTop(),w=n.height()-x-s-a.top,y=t.left-a.left-n.scrollLeft(),C=n.width()-y-o-a.left};if(S(),"auto"===this.options.size){var k=function(){var n,s=function(e,t){return function(i){return t?i.classList?i.classList.contains(e):$(i).hasClass(e):!(i.classList?i.classList.contains(e):$(i).hasClass(e))}},c=e.$menuInner[0].getElementsByTagName("li"),f=Array.prototype.filter?Array.prototype.filter.call(c,s("hidden",!1)):e.$lis.not(".hidden"),k=Array.prototype.filter?Array.prototype.filter.call(f,s("dropdown-header",!0)):f.filter(".dropdown-header");S(),m=w-u.vert,g=C-u.horiz,e.options.container?(t.data("height")||t.data("height",t.height()),b=t.data("height"),t.data("width")||t.data("width",t.width()),v=t.data("width")):(b=t.height(),v=t.width()),e.options.dropupAuto&&e.$newElement.toggleClass("dropup",x>w&&m-u.vert<b),e.$newElement.hasClass("dropup")&&(m=x-u.vert),"auto"===e.options.dropdownAlignRight&&t.toggleClass("dropdown-menu-right",y>C&&g-u.horiz<v-o),n=f.length+k.length>3?3*a+u.vert-2:0,t.css({"max-height":m+"px",overflow:"hidden","min-height":n+l+r+d+h+"px"}),i.css({"max-height":m-l-r-d-h-p.vert+"px","overflow-y":"auto","min-height":Math.max(n-p.vert,0)+"px"})};k(),this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",k),n.off("resize.getSize scroll.getSize").on("resize.getSize scroll.getSize",k)}else if(this.options.size&&"auto"!=this.options.size&&this.$lis.not(f).length>this.options.size){var E=this.$lis.not(".divider").not(f).children().slice(0,this.options.size).last().parent().index(),T=this.$lis.slice(0,E+1).filter(".divider").length;m=a*this.options.size+T*c+p.vert,e.options.container?(t.data("height")||t.data("height",t.height()),b=t.data("height")):b=t.height(),e.options.dropupAuto&&this.$newElement.toggleClass("dropup",x>w&&m-u.vert<b),t.css({"max-height":m+l+r+d+h+"px",overflow:"hidden","min-height":""}),i.css({"max-height":m-p.vert+"px","overflow-y":"auto","min-height":""})}}},setWidth:function(){if("auto"===this.options.width){this.$menu.css("min-width","0");var e=this.$menu.parent().clone().appendTo("body"),t=this.options.container?this.$newElement.clone().appendTo("body"):e,i=e.children(".dropdown-menu").outerWidth(),n=t.css("width","auto").children("button").outerWidth();e.remove(),t.remove(),this.$newElement.css("width",Math.max(i,n)+"px")}else"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width",""));this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement.removeClass("fit-width")},selectPosition:function(){this.$bsContainer=$('<div class="bs-container" />');var e=this,t=$(this.options.container),i,n,s,o=function(o){e.$bsContainer.addClass(o.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass("dropup",o.hasClass("dropup")),i=o.offset(),t.is("body")?n={top:0,left:0}:(n=t.offset(),n.top+=parseInt(t.css("borderTopWidth"))-t.scrollTop(),n.left+=parseInt(t.css("borderLeftWidth"))-t.scrollLeft()),s=o.hasClass("dropup")?0:o[0].offsetHeight,e.$bsContainer.css({top:i.top-n.top+s,left:i.left-n.left,width:o[0].offsetWidth})};this.$button.on("click",function(){var t=$(this);e.isDisabled()||(o(e.$newElement),e.$bsContainer.appendTo(e.options.container).toggleClass("open",!t.hasClass("open")).append(e.$menu))}),$(window).on("resize scroll",function(){o(e.$newElement)}),this.$element.on("hide.bs.select",function(){e.$menu.data("height",e.$menu.height()),e.$bsContainer.detach()})},setSelected:function(e,t,i){i||(this.togglePlaceholder(),i=this.findLis().eq(this.liObj[e])),i.toggleClass("selected",t).find("a").attr("aria-selected",t)},setDisabled:function(e,t,i){i||(i=this.findLis().eq(this.liObj[e])),t?i.addClass("disabled").children("a").attr("href","#").attr("tabindex",-1).attr("aria-disabled",!0):i.removeClass("disabled").children("a").removeAttr("href").attr("tabindex",0).attr("aria-disabled",!1)},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var e=this;this.isDisabled()?(this.$newElement.addClass("disabled"),this.$button.addClass("disabled").attr("tabindex",-1)):(this.$button.hasClass("disabled")&&(this.$newElement.removeClass("disabled"),this.$button.removeClass("disabled")),this.$button.attr("tabindex")!=-1||this.$element.data("tabindex")||this.$button.removeAttr("tabindex")),this.$button.click(function(){return!e.isDisabled()})},togglePlaceholder:function(){var e=this.$element.val();this.$button.toggleClass("bs-placeholder",null===e||""===e)},tabIndex:function(){this.$element.data("tabindex")!==this.$element.attr("tabindex")&&this.$element.attr("tabindex")!==-98&&"-98"!==this.$element.attr("tabindex")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex"))),this.$element.attr("tabindex",-98)},clickListener:function(){var e=this,t=$(document);this.$newElement.on("touchstart.dropdown",".dropdown-menu",function(e){e.stopPropagation()}),t.data("spaceSelect",!1),this.$button.on("keyup",function(e){/(32)/.test(e.keyCode.toString(10))&&t.data("spaceSelect")&&(e.preventDefault(),t.data("spaceSelect",!1))}),this.$button.on("click",function(){e.setSize()}),this.$element.on("shown.bs.select",function(){if(e.options.liveSearch||e.multiple){if(!e.multiple){var t=e.liObj[e.$element[0].selectedIndex];if("number"!=typeof t||e.options.size===!1)return;var i=e.$lis.eq(t)[0].offsetTop-e.$menuInner[0].offsetTop;i=i-e.$menuInner[0].offsetHeight/2+e.sizeInfo.liHeight/2,e.$menuInner[0].scrollTop=i}}else e.$menuInner.find(".selected a").focus()}),this.$menuInner.on("click","li a",function(t){var i=$(this),n=i.parent().data("originalIndex"),o=e.$element.val(),a=e.$element.prop("selectedIndex"),l=!0;if(e.multiple&&1!==e.options.maxOptions&&t.stopPropagation(),t.preventDefault(),!e.isDisabled()&&!i.parent().hasClass("disabled")){var r=e.$element.find("option"),d=r.eq(n),h=d.prop("selected"),c=d.parent("optgroup"),p=e.options.maxOptions,u=c.data("maxOptions")||!1;if(e.multiple){if(d.prop("selected",!h),e.setSelected(n,!h),i.blur(),p!==!1||u!==!1){var f=p<r.filter(":selected").length,m=u<c.find("option:selected").length;if(p&&f||u&&m)if(p&&1==p)r.prop("selected",!1),d.prop("selected",!0),e.$menuInner.find(".selected").removeClass("selected"),e.setSelected(n,!0);else if(u&&1==u){c.find("option:selected").prop("selected",!1),d.prop("selected",!0);var g=i.parent().data("optgroup");e.$menuInner.find('[data-optgroup="'+g+'"]').removeClass("selected"),e.setSelected(n,!0)}else{var b="string"==typeof e.options.maxOptionsText?[e.options.maxOptionsText,e.options.maxOptionsText]:e.options.maxOptionsText,v="function"==typeof b?b(p,u):b,x=v[0].replace("{n}",p),w=v[1].replace("{n}",u),y=$('<div class="notify"></div>');v[2]&&(x=x.replace("{var}",v[2][p>1?0:1]),w=w.replace("{var}",v[2][u>1?0:1])),d.prop("selected",!1),e.$menu.append(y),p&&f&&(y.append($("<div>"+x+"</div>")),l=!1,e.$element.trigger("maxReached.bs.select")),u&&m&&(y.append($("<div>"+w+"</div>")),l=!1,e.$element.trigger("maxReachedGrp.bs.select")),setTimeout(function(){e.setSelected(n,!1)},10),y.delay(750).fadeOut(300,function(){$(this).remove()})}}}else r.prop("selected",!1),d.prop("selected",!0),e.$menuInner.find(".selected").removeClass("selected").find("a").attr("aria-selected",!1),e.setSelected(n,!0);!e.multiple||e.multiple&&1===e.options.maxOptions?e.$button.focus():e.options.liveSearch&&e.$searchbox.focus(),l&&(o!=e.$element.val()&&e.multiple||a!=e.$element.prop("selectedIndex")&&!e.multiple)&&(s=[n,d.prop("selected"),h],e.$element.triggerNative("change"))}}),this.$menu.on("click","li.disabled a, .popover-title, .popover-title :not(.close)",function(t){t.currentTarget==this&&(t.preventDefault(),t.stopPropagation(),e.options.liveSearch&&!$(t.target).hasClass("close")?e.$searchbox.focus():e.$button.focus())}),this.$menuInner.on("click",".divider, .dropdown-header",function(t){t.preventDefault(),t.stopPropagation(),e.options.liveSearch?e.$searchbox.focus():e.$button.focus()}),this.$menu.on("click",".popover-title .close",function(){e.$button.click()}),this.$searchbox.on("click",function(e){e.stopPropagation()}),this.$menu.on("click",".actions-btn",function(t){e.options.liveSearch?e.$searchbox.focus():e.$button.focus(),t.preventDefault(),t.stopPropagation(),$(this).hasClass("bs-select-all")?e.selectAll():e.deselectAll()}),this.$element.change(function(){e.render(!1),e.$element.trigger("changed.bs.select",s),s=null})},liveSearchListener:function(){var i=this,n=$('<li class="no-results"></li>');this.$button.on("click.dropdown.data-api touchstart.dropdown.data-api",function(){i.$menuInner.find(".active").removeClass("active"),i.$searchbox.val()&&(i.$searchbox.val(""),i.$lis.not(".is-hidden").removeClass("hidden"),n.parent().length&&n.remove()),i.multiple||i.$menuInner.find(".selected").addClass("active"),setTimeout(function(){i.$searchbox.focus()},10)}),this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api",function(e){e.stopPropagation()}),this.$searchbox.on("input propertychange",function(){if(i.$searchbox.val()){var s=i.$lis.not(".is-hidden").removeClass("hidden").children("a");s=i.options.liveSearchNormalize?s.not(":a"+i._searchStyle()+'("'+e(i.$searchbox.val())+'")'):s.not(":"+i._searchStyle()+'("'+i.$searchbox.val()+'")'),s.parent().addClass("hidden"),i.$lis.filter(".dropdown-header").each(function(){var e=$(this),t=e.data("optgroup");0===i.$lis.filter("[data-optgroup="+t+"]").not(e).not(".hidden").length&&(e.addClass("hidden"),i.$lis.filter("[data-optgroup="+t+"div]").addClass("hidden"))});var o=i.$lis.not(".hidden");o.each(function(e){var t=$(this);t.hasClass("divider")&&(t.index()===o.first().index()||t.index()===o.last().index()||o.eq(e+1).hasClass("divider"))&&t.addClass("hidden")}),i.$lis.not(".hidden, .no-results").length?n.parent().length&&n.remove():(n.parent().length&&n.remove(),n.html(i.options.noneResultsText.replace("{0}",'"'+t(i.$searchbox.val())+'"')).show(),i.$menuInner.append(n))}else i.$lis.not(".is-hidden").removeClass("hidden"),n.parent().length&&n.remove();i.$lis.filter(".active").removeClass("active"),i.$searchbox.val()&&i.$lis.not(".hidden, .divider, .dropdown-header").eq(0).addClass("active").children("a").focus(),$(this).focus()})},_searchStyle:function(){var e={begins:"ibegins",startsWith:"ibegins"};return e[this.options.liveSearchStyle]||"icontains"},val:function(e){return"undefined"!=typeof e?(this.$element.val(e),this.render(),this.$element):this.$element.val()},changeAll:function(e){if(this.multiple){"undefined"==typeof e&&(e=!0),this.findLis();var t=this.$element.find("option"),i=this.$lis.not(".divider, .dropdown-header, .disabled, .hidden"),n=i.length,s=[];if(e){if(i.filter(".selected").length===i.length)return}else if(0===i.filter(".selected").length)return;i.toggleClass("selected",e);for(var o=0;o<n;o++){var a=i[o].getAttribute("data-original-index");s[s.length]=t.eq(a)[0]}$(s).prop("selected",e),this.render(!1),this.togglePlaceholder(),this.$element.triggerNative("change")}},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},toggle:function(e){e=e||window.event,e&&e.stopPropagation(),this.$button.trigger("click")},keydown:function(t){var i=$(this),n=i.is("input")?i.parent().parent():i.parent(),s,o=n.data("this"),a,l,r,d,h,c,p,u,f=":not(.disabled, .hidden, .dropdown-header, .divider)",m={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};if(o.options.liveSearch&&(n=i.parent().parent()),o.options.container&&(n=o.$menu),s=$('[role="listbox"] li',n),u=o.$newElement.hasClass("open"),!u&&(t.keyCode>=48&&t.keyCode<=57||t.keyCode>=96&&t.keyCode<=105||t.keyCode>=65&&t.keyCode<=90))return o.options.container?o.$button.trigger("click"):(o.setSize(),o.$menu.parent().addClass("open"),u=!0),void o.$searchbox.focus();if(o.options.liveSearch&&(/(^9$|27)/.test(t.keyCode.toString(10))&&u&&(t.preventDefault(),t.stopPropagation(),o.$button.click().focus()),s=$('[role="listbox"] li'+f,n),i.val()||/(38|40)/.test(t.keyCode.toString(10))||0===s.filter(".active").length&&(s=o.$menuInner.find("li"),s=o.options.liveSearchNormalize?s.filter(":a"+o._searchStyle()+"("+e(m[t.keyCode])+")"):s.filter(":"+o._searchStyle()+"("+m[t.keyCode]+")"))),s.length){if(/(38|40)/.test(t.keyCode.toString(10)))a=s.index(s.find("a").filter(":focus").parent()),r=s.filter(f).first().index(),d=s.filter(f).last().index(),l=s.eq(a).nextAll(f).eq(0).index(),h=s.eq(a).prevAll(f).eq(0).index(),c=s.eq(l).prevAll(f).eq(0).index(),o.options.liveSearch&&(s.each(function(e){$(this).hasClass("disabled")||$(this).data("index",e)}),a=s.index(s.filter(".active")),r=s.first().data("index"),d=s.last().data("index"),l=s.eq(a).nextAll().eq(0).data("index"),h=s.eq(a).prevAll().eq(0).data("index"),c=s.eq(l).prevAll().eq(0).data("index")),p=i.data("prevIndex"),38==t.keyCode?(o.options.liveSearch&&a--,a!=c&&a>h&&(a=h),a<r&&(a=r),a==p&&(a=d)):40==t.keyCode&&(o.options.liveSearch&&a++,a==-1&&(a=0),a!=c&&a<l&&(a=l),a>d&&(a=d),a==p&&(a=r)),i.data("prevIndex",a),o.options.liveSearch?(t.preventDefault(),i.hasClass("dropdown-toggle")||(s.removeClass("active").eq(a).addClass("active").children("a").focus(),i.focus())):s.eq(a).children("a").focus();else if(!i.is("input")){var g=[],b,v;s.each(function(){$(this).hasClass("disabled")||$.trim($(this).children("a").text().toLowerCase()).substring(0,1)==m[t.keyCode]&&g.push($(this).index())}),b=$(document).data("keycount"),b++,$(document).data("keycount",b),v=$.trim($(":focus").text().toLowerCase()).substring(0,1),v!=m[t.keyCode]?(b=1,$(document).data("keycount",b)):b>=g.length&&($(document).data("keycount",0),b>g.length&&(b=1)),s.eq(g[b-1]).children("a").focus()}if((/(13|32)/.test(t.keyCode.toString(10))||/(^9$)/.test(t.keyCode.toString(10))&&o.options.selectOnTab)&&u){if(/(32)/.test(t.keyCode.toString(10))||t.preventDefault(),o.options.liveSearch)/(32)/.test(t.keyCode.toString(10))||(o.$menuInner.find(".active a").click(),
i.focus());else{var x=$(":focus");x.click(),x.focus(),t.preventDefault(),$(document).data("spaceSelect",!0)}$(document).data("keycount",0)}(/(^9$|27)/.test(t.keyCode.toString(10))&&u&&(o.multiple||o.options.liveSearch)||/(27)/.test(t.keyCode.toString(10))&&!u)&&(o.$menu.parent().removeClass("open"),o.options.container&&o.$newElement.removeClass("open"),o.$button.focus())}},mobile:function(){this.$element.addClass("mobile-device")},refresh:function(){this.$lis=null,this.liObj={},this.reloadLi(),this.render(),this.checkDisabled(),this.liHeight(!0),this.setStyle(),this.setWidth(),this.$lis&&this.$searchbox.trigger("propertychange"),this.$element.trigger("refreshed.bs.select")},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove(),this.$bsContainer?this.$bsContainer.remove():this.$menu.remove(),this.$element.off(".bs.select").removeData("selectpicker").removeClass("bs-select-hidden selectpicker")}};var a=$.fn.selectpicker;$.fn.selectpicker=i,$.fn.selectpicker.Constructor=o,$.fn.selectpicker.noConflict=function(){return $.fn.selectpicker=a,this},$(document).data("keycount",0).on("keydown.bs.select",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="listbox"], .bs-searchbox input',o.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="listbox"], .bs-searchbox input',function(e){e.stopPropagation()}),$(window).on("load.bs.select.data-api",function(){$(".selectpicker").each(function(){var e=$(this);i.call(e,e.data())})})}(jQuery);